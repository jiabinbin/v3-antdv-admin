{"version":3,"sources":["webpack:///./src/views/Login/Login.vue","webpack:///./src/views/Login/Login.vue?f407","webpack:///./src/views/Login/Login.vue?604b"],"names":["class","id","ref","model","formState","rules","formRules","handleFinish","name","size","type","placeholder","value","username","prefix","style","password","htmlType","loading","disabled","setup","props","context","store","router","state","formLogin","required","message","values","dispatch","success","error","push","console","log","render","__scopeId"],"mappings":"+NACOA,MAAM,Q,EASP,yBAGM,OAHDA,MAAM,oBAAkB,CAC3B,yBAA0B,UAAtB,qBACJ,yBAA2C,SAAxC,0C,kCAsCF,O,yZAjDP,yBAqDM,MArDN,EAqDM,CApDJ,yBAmDS,GAlDPC,GAAG,YACHD,MAAM,oBACNE,IAAI,YACHC,MAAO,EAAAC,UACPC,MAAO,EAAAC,UACP,SAAQ,EAAAC,c,YAET,iBAGM,CAHN,EAIA,yBAac,GAZZC,KAAK,YAAU,C,WAEf,iBASU,CATV,yBASU,GARRC,KAAK,QACLC,KAAK,OACLC,YAAY,YACJC,MAAO,EAAAR,UAAUS,S,gDAAV,EAAAT,UAAUS,SAAQ,K,CAEhBC,OAAM,GACrB,iBAAmE,CAAnE,yBAAmE,GAApDC,MAAO,2BAA4B,sB,4BAKxD,yBAYc,GAXZP,KAAK,YAAU,C,WAEf,iBAQmB,CARnB,yBAQmB,GAPjBC,KAAK,QACLE,YAAY,YACJC,MAAO,EAAAR,UAAUY,S,gDAAV,EAAAZ,UAAUY,SAAQ,K,CAEhBF,OAAM,GACrB,iBAAqD,CAArD,yBAAqD,GAAtCC,MAAO,2BAA4B,sB,4BAIxD,yBAUc,GAVDA,MAAA,uBAAuB,C,WAClC,iBAQW,CARX,yBAQW,GAPTN,KAAK,QACLC,KAAK,UACLO,SAAS,SACTjB,MAAM,eACLkB,QAAS,EAAAA,QACTC,SAAU,EAAAA,U,YACZ,iBACD,C,qKAYO,+BAAgB,CAC7BX,KAAM,QACNY,MAF6B,SAEtBC,EAAOC,GACZ,IAAMC,EAAQ,iBACRC,EAAS,iBAETpB,EAAY,sBAAS,CACzBS,SAAU,GACVG,SAAU,KAGNS,EAAQ,sBAAS,CACrBP,SAAS,EACTC,SAAU,uBAAS,WACjB,QAASf,EAAUS,UAAYT,EAAUY,eAIvCU,EAAY,iBAAI,MAEhBpB,EAAY,qBAAQ,CACxBO,SAAU,CACR,CACEc,UAAU,EACVC,QAAS,WAGbZ,SAAU,CACR,CACEW,UAAU,EACVC,QAAS,cAKTrB,EAAW,yDAAI,WAAMsB,GAAN,kGACnBJ,EAAMP,SAAU,EADG,kBAGkBK,EAAMO,SAAS,YAAaD,GAH9C,mBAGTE,EAHS,EAGTA,QAASH,EAHA,EAGAA,QACZG,EAJY,iBAKf,OAAQC,MAAMJ,GALC,yCAOTJ,EAAOS,KAAK,CAAEzB,KAAM,SAPX,6DAUjB0B,QAAQC,IAAR,MAViB,yBAYjBV,EAAMP,SAAU,EAZC,6EAAJ,sDAgBjB,sCACEQ,aACG,oBAAOD,IAFZ,IAGErB,YACAE,YACAC,oB,WClHN,EAAO6B,OAAS,EAChB,EAAOC,UAAY,kBAEJ,gB,4DCRf","file":"js/login.b6d7bd52.js","sourcesContent":["<template>\n  <div class=\"main\">\n    <a-form\n      id=\"formLogin\"\n      class=\"user-layout-login\"\n      ref=\"formLogin\"\n      :model=\"formState\"\n      :rules=\"formRules\"\n      @finish=\"handleFinish\"\n    >\n      <div class=\"user-login-title\">\n        <h1>Vue3 AntdV2 Admin</h1>\n        <p>基于vue3 antdv2 composition-api的后台管理系统</p>\n      </div>\n      <a-form-item\n        name=\"username\"\n      >\n        <a-input\n          size=\"large\"\n          type=\"text\"\n          placeholder=\"账户: admin\"\n          v-model:value=\"formState.username\"\n        >\n          <template v-slot:prefix>\n            <UserOutlined :style=\"{ color: 'rgba(0,0,0,.25)' }\"></UserOutlined>\n          </template>\n        </a-input>\n      </a-form-item>\n\n      <a-form-item\n        name=\"password\"\n      >\n        <a-input-password\n          size=\"large\"\n          placeholder=\"密码: admin\"\n          v-model:value=\"formState.password\"\n        >\n          <template v-slot:prefix>\n            <LockOutlined :style=\"{ color: 'rgba(0,0,0,.25)' }\"/>\n          </template>\n        </a-input-password>\n      </a-form-item>\n      <a-form-item style=\"margin-top:24px\">\n        <a-button\n          size=\"large\"\n          type=\"primary\"\n          htmlType=\"submit\"\n          class=\"login-button\"\n          :loading=\"loading\"\n          :disabled=\"disabled\"\n        >确定\n        </a-button>\n      </a-form-item>\n    </a-form>\n  </div>\n</template>\n\n<script>\nimport { markRaw, reactive, ref, toRefs, defineComponent, computed } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { message as Message } from 'ant-design-vue'\n\nexport default defineComponent({\n  name: 'Login',\n  setup (props, context) {\n    const store = useStore()\n    const router = useRouter()\n\n    const formState = reactive({\n      username: '',\n      password: ''\n    })\n\n    const state = reactive({\n      loading: false,\n      disabled: computed(() => {\n        return !(formState.username && formState.password)\n      })\n    })\n\n    const formLogin = ref(null)\n\n    const formRules = markRaw({\n      username: [\n        {\n          required: true,\n          message: '请输入帐户名'\n        }\n      ],\n      password: [\n        {\n          required: true,\n          message: '请输入输入密码'\n        }\n      ]\n    })\n\n    const handleFinish = async values => {\n      state.loading = true\n      try {\n        const { success, message } = await store.dispatch('app/login', values)\n        if (!success) {\n          Message.error(message)\n        } else {\n          await router.push({ name: 'root' })\n        }\n      } catch (e) {\n        console.log(e)\n      } finally {\n        state.loading = false\n      }\n    }\n\n    return {\n      formLogin,\n      ...toRefs(state),\n      formState,\n      formRules,\n      handleFinish\n    }\n  }\n})\n</script>\n\n<style lang=\"less\" scoped>\n.main {\n  width: 100%;\n  min-height: 100vh;\n  position: absolute;\n  background: #f0f2f5 url('~@/assets/background.svg') no-repeat 50%;\n\n  .user-layout-login {\n    width: 368px;\n    height: 350px;\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    margin: auto;\n\n    .user-login-title {\n      text-align: center;\n\n      h1 {\n        font-size: 33px;\n        color: rgba(0, 0, 0, .85);\n        font-family: Avenir, Helvetica Neue, Arial, Helvetica, sans-serif;\n        font-weight: 600;\n        position: relative;\n      }\n\n      p {\n        font-size: 14px;\n        color: rgba(0, 0, 0, .45);\n        margin-top: 12px;\n        margin-bottom: 40px;\n      }\n    }\n\n    .login-button {\n      padding: 0 15px;\n      font-size: 16px;\n      height: 40px;\n      width: 100%;\n    }\n  }\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=37a10d1a&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=37a10d1a&lang=less&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-37a10d1a\"\n\nexport default script","export { default } from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=37a10d1a&lang=less&scoped=true\"; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=37a10d1a&lang=less&scoped=true\""],"sourceRoot":""}